CREATE TABLE ACCOUNT (
    AccountID varchar(100) NOT NULL, 
    UserName varchar(16) NOT NULL UNIQUE, 
    AccountPassword varchar(100) NOT NULL, 
    Email varchar(100) NOT NULL, 
    AdminRights boolean DEFAULT FALSE NOT NULL, 
    PRIMARY KEY(AccountID)
);

CREATE TABLE USERACCOUNT ( 
    UserAccountID varchar(100) NOT NULL, 
    FirstName varchar(100), 
    LastName varchar(100), 
    PhoneNumber varchar(100),
    Birthday date, 
    Membership boolean DEFAULT FALSE, 
    FOREIGN KEY(UserAccountID) REFERENCES ACCOUNT (AccountID),
    PRIMARY KEY(UserAccountID)
);

CREATE TABLE ADMINACCOUNT  (
    AdminAccountID varchar(100) NOT NULL, 
    FOREIGN KEY(AdminAccountID) REFERENCES ACCOUNT (AccountID),
    PRIMARY KEY(AdminAccountID)
); 

CREATE TABLE COURT (
    CourtID varchar(100) NOT NULL, 
    CourtType text,
    PRIMARY KEY (CourtID)
);

CREATE TABLE TABLETIMES(
    TableTimeID varchar(100) NOT NULL, 
    TableHour time(0)without time zone NOT NULL, 
    PRIMARY KEY(TableTimeID)
);

CREATE TABLE TABLEDATES (
    TableDateID varchar(100) NOT NULL, 
    TableDate date NOT NULL,
    PRIMARY KEY(TableDateID)
);

CREATE TABLE SCHEDULE (
    ScheduleID varchar(100) NOT NULL, 
    CourtID varchar(100) NOT NULL, 
    FOREIGN KEY(CourtID) REFERENCES COURT(CourtID),
    PRIMARY KEY(ScheduleID)
);
 
CREATE TABLE TIMESLOT ( 
    TimeSlotID varchar(100) NOT NULL, 
    TimeID varchar(100) NOT NULL, 
    DayID varchar(100) NOT NULL, 
    Availability boolean DEFAULT TRUE NOT NULL, 
    ScheduleID varchar(100) NOT NULL, 
    FOREIGN KEY(TimeID) REFERENCES TABLETIMES(TableTimeID), 
    FOREIGN KEY(DayID) REFERENCES TABLEDATES(TableDateID), 
    FOREIGN KEY(ScheduleID) REFERENCES SCHEDULE(ScheduleID),
    PRIMARY KEY(TimeSlotID)
);

CREATE TABLE RESERVATION ( 
    ReservationID varchar(100) NOT NULL, 
    TimeSlotID varchar(100) NOT NULL,
    CourtID varchar(100) NOT NULL, 
    ReserveeID varchar(100) NOT NULL,
    FOREIGN KEY(TimeSlotID) REFERENCES TIMESLOT (TimeSlotID),
    FOREIGN KEY(CourtID) REFERENCES COURT (CourtID),
    FOREIGN KEY(ReserveeID) REFERENCES USERACCOUNT (UserAccountID),
    PRIMARY KEY(ReservationID) 
);

CREATE TABLE TOURNAMENT (
    TournamentID varchar(100) NOT NULL, 
    Title text NOT NULL, 
    StartDate date, 
    EndDate date, 
    SkillLevel integer, 
    AgeRestrictions integer,
    PRIMARY KEY(TournamentID)
);

CREATE TABLE joins ( 
    ParticipantID varchar(100) NOT NULL, 
    TournamentID varchar(100) NOT NULL, 
    FOREIGN KEY(ParticipantID) REFERENCES USERACCOUNT(UserAccountID), 
    FOREIGN KEY(TournamentID) REFERENCES TOURNAMENT(TournamentID)
);

